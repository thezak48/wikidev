# トラブルシューティング

## ヘルプを求める

ヘルプが必要ですか？大丈夫です、誰でも時にはヘルプが必要です。以下の方法でリアルタイムのヘルプを得ることができます。

- [<i class="fab fa-discord"></i>&emsp;Discord *公式 Readarr Discord*](https://readarr.com/discord)
- [<i class="fab fa-reddit"></i>&emsp;Reddit *公式 Readarr Subreddit*](https://reddit.com/r/readarr)
{.links-list}

ただし、投稿する前に、ヘルプを求めるためのリクエストが最善であることを確認してください。問題を明確に説明し、OS/ディストリビューション、.NETのバージョン、Readarrのバージョン、ダウンロードクライアントとそのバージョンなどのセットアップについて簡単に説明してください。**[Docker](https://www.docker.com/)を使用している場合は、まず[Dockerガイド](/docker-guide)を実行して、一般的で頻繁なパス/アクセス許可の問題を解決してください。それ以外の場合は、[docker compose](/docker-guide#docker-compose)を手元に用意してください。[Docker Composeの生成方法](https://trash-guides.info/compose)** すでに試したこと、調べたことについて教えてください。問題を再現し、関連するコンテキストをパスビンに貼り付け、そのリンクを投稿に含めてください。問題を強調するためにスクリーンショットを含めることもできます。

私たちが知っていることが多ければ多いほど、あなたを助けることが容易になります。

## ロギングとログファイル

一般的なトラブルシューティングの問題も確認することがおそらく有益です：
- [ダウンロードとインポートの一般的な問題](#downloads-and-importing)
- [検索インデクサとトラッカーの一般的な問題](#searches-indexers-and-trackers)
{.links-list}

デバッグログが必要な場合、ログには `debug` が含まれ、トレースログが必要な場合は `trace` が含まれます。提供するログにこれらのいずれかが含まれていない場合は、要求されたログではありません。

- 要求されていない限り、ログファイル全体を共有しないでください。
- 要求されていない限り、ログを直接Discordにアップロードしたり、テキストの壁として貼り付けたりしないでください。
- ログを添付ファイル、ZIPアーカイブ、またはそれ以外のテキスト以外の形式で共有しないでください。

共有するための良質で有用なログを提供するためには、次の手順に従ってください：

> RSSリフレッシュなどのスパムタスクが実行されていないことを確認してください。
{.is-warning}

1. [ログレベルをトレースに設定する（設定 => 一般 => ログレベルまたは設定ファイルの編集）](#tracedebug-logs)
2. [ログをクリアする（システム => ログ => ログをクリアまたはログフォルダ内のすべてのログを削除）](#clearing-logs)
3. 問題を再現する（問題を引き起こしていることを再現する）
4. UIまたはログファイル上の[標準ログの場所](#standard-logs-location)から関連するコンテキストを見つけ、トレースログファイル（readarr.trace.txt）を開く
5. 問題の前後に大きなチャンクをコピーします。
6. [Gist](https://gist.github.com/)、[0bin（**カラーリングを無効にすることを忘れないでください**）](https://0bin.net/)、[PrivateBin](https://privatebin.net/)、[Notifiarr PrivateBin](http://logs.notifiarr.com/)、[Hastebin](https://hastebin.com/)、[UbuntuのPastebin](https://pastebin.ubuntu.com/)などのサイトを使用して、上記でコピーしたログを共有します。以下の共有を避けるために注意してください。

**警告:**
- **[pastebin.com](https://pastebin.com)は、フィルタがログをブロックする傾向があるため使用しないでください。
- [pastebin.pl](https://pastebin.pl)は、サイトに頻繁にアクセスできないため使用しないでください。
- [JustPasteIt](https://justpaste.it/)は、ログの確認を容易にすることができないため使用しないでください。
- ログをファイルとしてアップロードしないでください。
- ログをGoogleドライブ、Dropbox、またはその他のサイトで共有しないでください。
- ログをアーカイブ（zip、tar（tarボール）、7zipなど）しないでください。
- コンソール出力、Dockerコンテナ出力、アプリケーションログ以外のものを共有しないでください。

**重要な注意:**
- [0bin](https://0bin.net/)を使用する場合は、カラーリングを無効にし、読み終わった後に破棄しないようにしてください。
- また、古いログファイルの特定のエントリを探しているが、どれがそれかわからない場合は、N++を使用することもできます。Notepad++の「ファイル内検索」機能を使用して、必要に応じて古いログファイルを検索できます。
- **Unixの場合:** 古いログファイルの特定のエントリを探しているが、どれがそれかわからない場合は、grepを使用することもできます。たとえば、映画/番組/書籍/曲/インデクサ「Shooter」に関する情報を見つけたい場合は、次のコマンドを実行します。`grep -inr -C 100 -e 'Shooter' /path/to/logs/*.trace*.txt` [Appdataディレクトリ](/readarr/appdata-directory)がホームフォルダにある場合は、次のように実行します。`grep -inr -C 100 -e 'Shooter' /home/$User/.config/logs/*.trace*.txt`

```none

    * 各フラグの機能は次のとおりです
    * -i: 大文字と小文字を区別しない
    * -n: 行番号を表示する
    * -r: パス内のすべてのファイルを再帰的にチェックする
    * -C: 見つかった行の前後の行数を指定する
    * -e: 検索するパターン

```

## 標準ログの場所

ログファイルは、Readarrの[Appdataディレクトリ](/readarr/appdata-directory)内のlogs/フォルダにあります。また、UIからもログファイルにアクセスできます。システム => ログ => ファイル。

> 注意: UIのログ（「イベント」）テーブルはログファイルとは異なり、それほど役に立ちません。ログが要求された場合は、ログファイルからコピー/貼り付けてください。
{.is-info}

## 更新ログの場所

更新ログファイルは、Readarrの[Appdataディレクトリ](/readarr/appdata-directory)内のUpdateLogs/フォルダにあります。

## ログの共有

ログは長くて読みにくい場合があり、フォーラムやRedditの投稿の一部としては適していません。また、Discordではスパムの原因となるため、[Pastebin](https://pastebin.ubuntu.com/)、[Hastebin](https://hastebin.com/)、[Gist](https://gist.github.com)、[0bin](https://0bin.net)、またはその他の類似のパステビンサイトを使用してください。通常、ファイル全体は必要ありません。問題/エラーの前後の十分なコンテキストを共有してください。RSS同期やライブラリの更新などのスパムタスクが終了するのを忘れないでください。

## トレース/デバッグログ

ログレベルは、設定 => 一般 => ロギングで変更できます。Readarrを再起動する必要はありません。この変更はログファイルのみに影響を与えます。最新のデバッグ/トレースログファイルは、それぞれ `readarr.debug.txt` と `readarr.trace.txt` という名前です。

ログレベルを設定するためにUIにアクセスできない場合は、AppDataディレクトリのconfig.xmlを編集して、LogLevelの値をInfoではなくDebugまたはTraceに設定することで設定できます。

```xml
 <Config>
  [...]
  <LogLevel>debug</LogLevel>
  [...]
 </Config>
```

## ログのクリア

ログファイルとログデータベースをUIから直接クリアできます。システム => ログ => ファイルおよびシステム => ログ => 削除（ゴミ箱アイコン）。

## 複数のログファイル

Readarrは、1MBまでのローリングログファイルを使用します。現在のログファイルは常に `readarr.txt` であり、他のファイル `readarr.0.txt` は次に新しいものです（番号が大きいほど古いものです）。このログファイルには `fatal`、`error`、`warn`、`info` のエントリが含まれています。

デバッグログレベルが有効になっている場合、追加の `readarr.debug.txt` ローリングログファイルが存在します。このログファイルには `fatal`、`error`、`warn`、`info`、`debug` のエントリが含まれています。通常、40時間分のログが含まれています。

トレースログレベルが有効になっている場合、追加の `readarr.trace.txt` ローリングログファイルが存在します。このログファイルには `fatal`、`error`、`warn`、`info`、`debug`、`trace` のエントリが含まれています。トレースの冗長性のため、最大でも数時間分しかカバーされていません。

# 失敗したアップデートからの復旧

アップグレード時の問題を防ぐために最善を尽くしていますが、問題が発生した場合は、この手順に従ってインストールを復旧できます。

## 問題の特定

- アップデート後にアプリケーションが起動しない場合は、まず[アップデートログ](#update-logs-location)を確認し、アップデートが正常に完了したかどうかを確認してください。それでも問題が解決しない場合は、アプリケーションの通常のログファイルを確認してください。ログファイルの場所を見つけ、ログレベルを上げるために[ログ](/readarr/settings#logging)と[ログファイル](/readarr/system#log-files)を使用してください。
- 最も頻繁に発生する問題は、アプリケーションがインストールされているシステムが `/tmp` ディレクトリを操作し、アップグレード中に重要な \*Arr ファイルを削除したため、アップグレードとロールバックの両方が失敗することです。この場合は、単に既存の破損したインストールの上に再インストールしてください。

### 移行の問題

- 移行エラーは同一ではありませんが、以下は例です：

```none
14-2-4 18:56:49.5|Info|MigrationLogger|\*\*\* 36: update\_with\_quality\_converters migrating \*\*\*

14-2-4 18:56:49.6|Error|MigrationLogger|SQL logic error or missing database duplicate column name: Items

While Processing: "ALTER TABLE "QualityProfiles" ADD COLUMN "Items" TEXT"

```

### アクセス許可の問題

- アクセス許可の問題は、アプリケーションが関連する一時フォルダやアプリケーションのバイナリフォルダにアクセスできないために発生します。アプリケーションが実行されるユーザー/グループが適切なアクセス権を持つようにアクセス許可を修正してください。

- Synologyユーザーは、Synologyのバグ「パス '/proc/{some number}/maps' へのアクセスが拒否されました」に遭遇する場合があります。

- Synologyユーザーは、一部のNASで `/tmp` の容量が不足している場合があります。アプリの別の `/tmp` パスを指定する必要があります。これに関するヘルプは、SynoCommunityやその他のSynologyのサポートチャンネルで入手できます。

## 問題の解決

移行の問題の場合、すぐにできることはあまりありません。問題が特定の場合（またはまだ投稿がない場合）、[reddit](https://reddit.com/r/readarr)に投稿するか、[discord](https://readarr.com/discord)に立ち寄ってください。同じ問題を抱えている他の人がいる場合は、私たちはそれに取り組んでいます。

> 安定版で「nightly」のデータベースを使用しようとしないでください。ブランチを切り替えることはお勧めしません。{.is-info}

### アクセス許可の問題

- アクセス許可を修正して、アプリケーションが `/tmp` とインストールディレクトリにアクセスできるようにしてください。

- Synologyユーザーが `/proc/###/maps` の問題に遭遇している場合は、Sonarrまたは他の\*Arrアプリケーションを停止して更新すると、問題が解決する場合があります。これはSynoCommunityパッケージの問題です。

### 手動でのアップグレード

ウェブサイトから最新のリリースを取得してください。

アップデートをインストール（.exe）するか、既存のインストールにコンテンツを解凍（.zip）して、通常通りにReadarrを再実行します。

# ダウンロードとインポート

ダウンロードとインポートは、*ほとんどの*人が問題を抱える箇所です。大まかな視点から見ると、Readarrはダウンロードクライアントと通信し、ダウンロードしたファイルにアクセスする必要があります。サポートされているダウンロードクライアントはさまざまで、さらにさまざまなセットアップがあります。つまり、一部の*一般的な*セットアップがある一方で、*正しい*セットアップはなく、誰のセットアップも少し異なる可能性があります。

> **まずはログをトレースレベルに設定し、詳細については[ログとログファイル](#logging-and-log-files)を参照してください。問題を再現し、その時間枠のトレースレベルのログを使用して問題を調査します。**誰かが助けてくれる場合は、その前後のコンテキストを[pastebin](https://0bin.net)、[Gist](https://gist.com)、または類似のサイトに表示してください。全体のファイルである必要はなく、エラーだけではありません。また、ログファイルにスパムをするタスクが実行されていない状態で問題を再現してください。
{.is-danger}

ヘルプを求める際には、必要な詳細を提供できるように[ヘルプを求める](#asking-for-help)を必ず読んでください。

## ダウンロードクライアントのテスト

ダウンロードクライアントが実行されていることを確認してください。まず、ダウンロードクライアントをテストしてください。うまくいかない場合は、トレースレベルのログで詳細を確認できます。ブラウザに入力できるURLを見つけて、それが機能するかどうか確認してください。接続の問題かもしれません。間違ったIP、ホスト名、ポート、またはファイアウォールによるアクセスのブロックなどが原因となる可能性があります。ユーザ名、パスワード、またはAPIキーが間違っている場合など、明らかな問題かもしれません。

## ダウンロードのテスト

次に、ダウンロードを試してみましょう。本を選んで手動で検索してください。それらのファイルのうちの1つを選んでダウンロードしようとしてください。ダウンロードクライアントに送信されますか？正しいカテゴリに表示されますか？アクティビティに表示されますか？おおよそ1分ごとに実行される**ダウンロードの完了をチェックする**タスク中にトレースレベルのログに表示されますか？そのタスク中に正しく解析されますか？キューに入れられたダウンロードの名前は適切ですか？一部のインデクサ/トラッカーではIDで検索されるため、認識できない名前でキューに入れることがあります。

## インポートのテスト

インポートの問題はほとんど常にアクティビティに表示され、エラーをホバーするとオレンジのアイコンが表示されます。アクティビティに表示されない場合は、まずこの問題に焦点を当てて解決する必要があります。ほとんどのインポートエラーは*パーミッション*の問題です。ダウンロードフォルダーで読み取りと書き込みができるようにする必要があります。ライブラリフォルダーのパーミッションも問題の原因になることがありますので、両方を確認してください。

パスの問題も発生する可能性がありますが、通常のセットアップではあまり一般的ではありません。パスの問題を理解するためのキーは、ダウンロードクライアントからのダウンロードのパスをAPI経由で取得することです。これは、ダウンロードクライアントが別のシステム（たとえば別のOS上で実行されている場合など）で実行されている場合など、よりユニークな使用例で問題となります。Dockerのセットアップでは、パスを修正することがより良いオプションです。

## よくある問題

以下はよくある問題のいくつかです。

### 好みの形式とは異なる形式がインポートされました

Readarrがインポートする際、チェックされているかどうかに関係なく、優先度プロファイルの優先度の順にインポートされます。この問題を解決するには、チェックされている形式を優先度リストのトップにドラッグする必要があります。たとえば、以下のオプションでは、EPUBのみが必要ですが、ダウンロードにEPUBとAZW3が含まれている場合、EPUBよりも優先してインポートされ、望ましくない形式がインポートされます。

![qualities.png](/assets/readarr/qualities.png)

### ダウンロードクライアントのWebUIが有効になっていません

Readarrは、ダウンロードクライアントとの通信にAPIを使用し、クライアントのWebUIを介してアクセスします。ダウンロードクライアントのWebUIが有効になっていることを確認してください。また、使用しているシステム上で他のクライアントポートと競合しないように、クライアントが使用しているポートを確認してください。

### SSLが使用され、正しく構成されていません

ローカルネットワークでインスタンスとダウンロードクライアントの両方を使用している場合は、SSL暗号化をオフにしてください。詳細については、[SSL FAQエントリ](/readarr/faq#invalid-certificate-and-other-HTTPS-or-SSL-issues)を参照してください。

### Windowsで共有が表示されない

Windowsサービスのデフォルトユーザーは「LocalService」であり、通常は共有にアクセスできません。サービスを編集し、自分自身のユーザーとして実行するように設定してください。詳細については、FAQエントリの[リモートサーバー上のファイルが表示されない理由](/readarr/faq#why-cant-i-see-my-files-on-a-remote-server)を参照してください。

### マップされたネットワークドライブは信頼性がありません

「X:\」のようなマップされたネットワークドライブは便利ですが、UNCパス（「\\server\share」のような）ほど信頼性がありません。また、ログイン前には利用できません。必要に応じて、セットアップとダウンロードクライアントをUNCパスを使用するように構成してください。ライブラリが共有にある場合は、ルートフォルダーがUNCパスを使用していることを確認してください。ダウンロードクライアントが共有に送信する場合は、ダウンロードパスをダウンロードクライアントから取得する必要があるため、UNCパスを構成する必要があります。マップされたネットワークドライブを自分自身で使用することは問題ありませんが、自動化には使用しないでください。

### Dockerとユーザー、グループ、所有権、パーミッション、パス

Dockerは、間違いやすい複雑さを追加しますが、それでも機能するセットアップになる可能性がありますが、さまざまな問題が発生することがあります。ここではそれらについて説明する代わりに、環境に実装できるように、ユーザー、グループ、所有権、パーミッション、パスについてのこのウィキ記事を読んでください。これは特定のDockerシステムに特化しているのではなく、高レベルでの説明を行っているため、独自の環境で実装できます。

### リモートパスマッピング

ReadarrをDockerで使用し、ダウンロードクライアントを非Dockerで使用している場合（またはその逆）、またはプログラムを異なるサーバーで使用している場合は、リモートパスマップが必要になる場合があります。

ログは次のようになります。

```none
2022-02-03 14:03:54.3|Error|DownloadedBooksImportService|Import failed, path does not exist or is not accessible by Readarr: /volume3/data/torrents/audiobooks/Party of Two - Jasmine Guillory.mp3. Ensure the path exists and the user running Readarr has the correct permissions to access this file/folder
```

したがって、`/volume3/data`はReadarrのコンテナ内に存在しないか、アクセスできないためです。

- [設定 => ダウンロードクライアント => リモートパスマッピング](/readarr/settings#remote-path-mappings)
- リモートパスマッピングは、ダウンロードクライアントが別のサーバー上の完了したデータのパスを報告している場合、または\*Arrがそのフォルダーに対応していない方法で報告している場合に使用されます。
- 一般的には、ダウンロードクライアントがLinux上にある場合にのみリモートパスマップが必要です。また、Dockerとネイティブクライアントを混在させている場合や、リモートサーバーを使用している場合にも、リモートパスマップが必要な場合があります。
- リモートパスマップは、指定したホストのために、リモートの値を検索/置換（置換するのはローカルの値）するダムな検索/置換です。
- パスのマッピングが正常に機能していない場合、パスのマッピングが期待どおりに機能していない可能性があります。典型的な解決策は、マッピングを追加および削除することです。
- [リモートパスマッピングに関する詳細情報については、TRaSHのチュートリアルを参照してください](https://trash-guides.info/Radarr/Radarr-remote-path-mapping/)

> \*Arrとダウンロードクライアントの両方がDockerコンテナである場合、リモートパスマップはほとんど必要ありません。[Dockerガイド](/docker-guide)を参照するか、[TRaSHのチュートリアル](https://trash-guides.info/hardlinks)に従うことをお勧めします。
{.is-info}

#### リモートマウントまたはリモート同期（Syncthing）

- ダウンロード中に常に同期される必要があります。また、ローカルの同期先は、\*Arrのインポート時にハードリンクになる必要があります。つまり、同じファイルシステムであり、同じように見える必要があります。
  - 不完全な状態と完全な状態の両方を含む共通のフォルダーで同期します。
  - ライブラリと同じファイルシステムであり、同じように見える場所に同期します（Dockerとネットワーク共有を使用すると、これが誤って構成されることがあります）。
  - 不完全な状態と完全な状態を同期することで、トレントクライアントが移動を行ったときにローカルで反映され、すべてのファイルがすでに「そこ」にあるようにします（まだダウンロード中の場合でも）。その後、ハードリンクを使用する必要があります。インポートが完了する前にインポートされても、それらはまだ完了します。
  - これにより、ダウンロード中は常に同期され、トレントクライアントがtvサブフォルダーに移動すると同期が反映されます。ダウンロードがほぼ完了している状態で宣言されるようになります。そして、完全に完了していなくても、ハードリンクが可能であることにより、それはまだ問題ありません。
  - （オプション - 適用可能であればおよび/または必要な場合（たとえば、リモートユーズネットクライアントの場合））インポート/ダウンロード/アップグレード時にリモートファイルを削除するためのカスタムスクリプトを設定します。
- リモート同期の代わりに、リモートマウントの設定ははるかに複雑ではありませんが、通常は遅くなります。
  - sshfsや他のネットワークファイルシステムプロトコルを使用してリモートストレージをマウントします。
  - \*Arrが実行されるユーザーとグループが読み取りまたは書き込みアクセス権を持っていることを確認します。
  - リモートパスマップを構成して、リモートパスを見つけて、それをローカルの同等のパスに置き換えます。

### ライブラリフォルダーのパーミッション

ログは次のようになります。

```none
2022-02-28 18:51:01.1|Error|DownloadedBooksImportService|Import failed, path does not exist or is not accessible by Readarr: /data/media/books/Jasmine Guillory/Party of Two - Jasmine Guillory.mp3. Ensure the path exists and the user running Readarr has the correct permissions to access this file/folder
```

*宛先*のパーミッションと所有権を確認するのを忘れないでください。ダウンロードの所有権とパーミッションにこだわりすぎることが簡単であり、通常はパーミッション関連の問題の原因ですが、*宛先*も原因になる可能性があります。宛先のフォルダーが存在することを確認してください。宛先の*ファイル*がすでに存在しないか、削除またはごみ箱に移動できないか確認してください。所有権とパーミッションが、ダウンロードしたファイルのコピー、ハードリンク、または移動を許可していることを確認してください。実行するユーザーまたはグループは、ルートフォルダーを読み取りおよび書き込みできる必要があります。

- Windowsユーザーの場合、これはサービスとして実行されていることによるものかもしれません：
  - Windowsサービスはデフォルトで「Local Service」アカウントで実行されますが、このアカウントは通常、手動でアクセス権限が割り当てられていない限り、ユーザーのホームディレクトリにアクセスできません。これは、ホームディレクトリにダウンロードを設定しているダウンロードクライアントを使用している場合に特に関係します。
  - 「Local Service」は一般的に非常に制限された権限を持っています。したがって、ユーザーがログインしたままであれば、システムトレイアプリケーションとしてアプリをインストールすることをお勧めします。インストーラー中にこのオプションが提供されます。サービスからトレイアプリに変換する方法については、FAQを参照してください。

- Synologyユーザーは、[SynoCommunityのパッケージのパーミッションに関する記事](https://github.com/SynoCommunity/spksrc/wiki/Permission-Management)を参照してください。

- Windows以外の場合：NFSマウントを使用している場合は、「nolock」が有効になっていることを確認してください。
- SMBマウントを使用している場合は、「nobrl」が有効になっていることを確認してください。

### ダウンロードフォルダーのパーミッション

ログは次のようになります。

```none
2022-02-28 18:51:01.1|Error|DownloadedBooksImportService|Import failed, path does not exist or is not accessible by Readarr: /data/torrents/books/Party of Two - Jasmine Guillory.mp3. Ensure the path exists and the user running Readarr has the correct permissions to access this file/folder
```

*ソース*のパーミッションと所有権を確認するのを忘れないでください。宛先の所有権とパーミッションにこだわりすぎることがあり、パーミッション関連の問題の原因になる可能性がありますが、通常はソースの所有権とパーミッションです。ソースのフォルダーが存在することを確認してください。所有権とパーミッションが、ダウンロードしたファイルのコピー/ハードリンクまたはコピー+削除/移動を許可していることを確認してください。実行するユーザーまたはグループは、ダウンロードフォルダーを読み取りおよび書き込みできる必要があります。

- Windowsユーザーの場合、これはサービスとして実行されていることによるものかもしれません：
  - Windowsサービスはデフォルトで「Local Service」アカウントで実行されますが、このアカウントは通常、手動でアクセス権限が割り当てられていない限り、ユーザーのホームディレクトリにアクセスできません。これは、ホームディレクトリにダウンロードを設定しているダウンロードクライアントを使用している場合に特に関係します。
  - 「Local Service」は一般的に非常に制限された権限を持っています。したがって、ユーザーがログインしたままであれば、システムトレイアプリケーションとしてアプリをインストールすることをお勧めします。インストーラー中にこのオプションが提供されます。サービスからトレイアプリに変換する方法については、FAQを参照してください。

- Synologyユーザーは、[SynoCommunityのパッケージのパーミッションに関する記事](https://github.com/SynoCommunity/spksrc/wiki/Permission-Management)を参照してください。

- Windows以外の場合：NFSマウントを使用している場合は、「nolock」が有効になっていることを確認してください。
- SMBマウントを使用している場合は、「nobrl」が有効になっていることを確認してください。

### ダウンロードフォルダーとライブラリフォルダーが同じフォルダーではない

ダウンロードクライアントは、\*Arrからアクセスできるフォルダーにダウンロードする必要があります。また、別のダウンロードフォルダーからライブラリフォルダーにインポートする必要があります。

ダウンロードを直接ルートフォルダーに保存しないでください。また、ルートフォルダーをダウンロードクライアントの完了フォルダーまたは不完全なフォルダーとして使用しないでください。

> ダウンロードフォルダーとルート/ライブラリフォルダーは別々である必要があります
{.is-warning}

### カテゴリが間違っている

Readarrは、自分自身のダウンロードのみを処理するためにカテゴリを設定する必要があります。通常、正しいカテゴリで送信されない限り、がデータと一緒に保存されないため、この問題はまれです。手動でトレントを追加して処理したい場合は、正しいカテゴリを設定する必要があります。いつでも設定できます。がダウンロードを処理しようとするため、約1分ごとにダウンロードを処理します。

### 圧縮されたトレント

ログには次のようなエラーが表示されます。

```none
No files found are eligible for import
```

トレントが`.rar`ファイルで圧縮されている場合、展開を設定する必要があります。[Unpackerr](https://github.com/unpackerr/unpackerr)をお勧めします。これは、正しく展開するための方法です：破損した部分的なインポートを防ぎ、インポート後に展開されたファイルをきれいにします。

また、フォルダーに有効なメディアファイルがない場合にもこのエラーが表示される場合があります。

### 繰り返しダウンロード

繰り返しダウンロードの原因はいくつかありますが、一つはリリースプロファイルのインデクサの制限に関連しています。インデクサはデータと一緒に保存されないため、ライブラリ内のメディアに対しては優先ワードスコアが*ゼロ*ですが、「RSS」および検索時には適用されます。これにより、アップグレードのように見えてダウンロードを繰り返し行うループに入りますが、実際にはアップグレードではなく、再び表示されてアップグレードのように見え、再び表示されてアップグレードのように見えます。リリースプロファイルをインデクサに制限しないでください。

これは、ダウンロードが実際にはインポートされず、キューから消えてしまい、新しいダウンロードが継続的に取得され、インポートされない場合にも発生する可能性があります。これに関しては、他のさまざまな一般的な問題とトラブルシューティング手順を参照してください。

### Usenetのダウンロードがインポートされない

Readarrは、SABnzbdとNZBGetの最新の60件のダウンロードのみを参照します。そのため、履歴を保持している場合、大きなキューでインポートの問題が発生した場合、ダウンロードが黙って見落とされてインポートされないことがあります。これを回避するためには、履歴をクリアしておくことが最善です。これにより、まだ表示されるアイテムは調査が必要です。これを実現するには、完了および失敗したダウンロードハンドラーの下にある「削除」を有効にします。NZBGetでは、これによりアイテムが*非表示*の履歴に移動されます。残念ながら、SABnzbdには同様の機能はありません。そこで、nzbバックアップフォルダを使用することができます。

### ダウンロードクライアントのアイテムのクリア

ダウンロードクライアントは、ダウンロードの削除には責任を持つべきではありません。Usenetクライアントは、履歴からダウンロードを削除しないように設定する必要があります。トレントクライアントは、シーディングが終了したらトレントを削除するのではなく、一時停止または停止するように設定する必要があります。これは、インポートするものを知るためにダウンロードクライアントと通信するためです。したがって、それらが削除されると、インポートするものは何もありません... ファイルがいっぱいのフォルダがあってもです。

SABnzbdでは、これは履歴保持設定で処理されます。

### ライブラリアイテムに一致するダウンロードができない

さまざまな理由で、ダウンロードクライアントに送信された後にリリースを解析できない場合があります。Activity => Options => Show Unknown（最近のビルドではデフォルトで有効になっています）を使用すると、\*Arrのダウンロードクライアントカテゴリ内で無視されない/すでにインポートされていないすべてのアイテムが表示されます。これらは通常、手動でマッピングしてインポートする必要があります。

これは、ダウンロードクライアントにリリースがあるが、そのメディアアイテム（映画/エピソード/本/曲）がアプリケーションに存在しない場合にも発生する可能性があります。

### 下層の接続が閉じられました：送信時に予期しないエラーが発生しました

これは、インデクサが現在の.NETバージョンでサポートされていないSSLプロトコルを使用しているためです。[Readarr => System => Status](/readarr/system#status)で見つかります。

### リクエストがタイムアウトしました

Readarrはクライアントからの応答を受け取っていません。

```none
    System.NET.WebException: The request timed out: ’https://example.org/api?t=caps&apikey=(removed) —> System.NET.WebException: The request timed out
```

```none
2022-11-01 10:16:54.3|Warn|Newznab|Unable to connect to indexer

[v4.3.0.6671] System.Threading.Tasks.TaskCanceledException: A task was canceled.
```

これは次の原因でも発生する可能性があります。

- VPNの不適切な設定または使用
- プロキシの不適切な設定または使用
- ローカルDNSの問題
- ローカルIPv6の問題 - 通常、IPv6は有効になっていますが、機能していません
- Privoxyの使用と不適切な設定

## リストされていない問題

一般的なアクセス許可とネットワーキングのトラブルシューティングコマンドについては、[ガイド](/permissions-and-networking)を参照してください。それ以外の場合は、ディスコードのサポートチームと相談してください。これが一般的な問題である可能性がある場合は、ウィキに追加することを提案してください。

# インデクサとトラッカーの検索

- [Prowlarr](/prowlarr)を使用している場合、Prowlarrが受信したすべてのクエリの[履歴](/prowlarr/history)とそれらがどのようにサイトに送信されたかを表示できます。Prowlarr History => Optionsで`Parameters`が有効になっていることを確認してください。追加の詳細は(i)アイコンで表示されます。

## ロギングをトレースレベルに設定する

> **最初のステップは、ログをトレースレベルに設定することです。詳細については、[ログとログファイル](#logging-and-log-files)を参照してログの調整と検索の詳細を確認してください。問題を再現し、その時間枠のトレースレベルのログを使用して問題を調査します。**誰かが助けてくれる場合は、前後のコンテキストを[pastebin](https://0bin.net)、[Gist](https://gist.com)、または類似のサイトに表示してください。全体のファイルである必要はありませんし、エラーだけではありません。また、ログファイルにスパムタスクが実行されていない状態で問題を再現する必要があります。
{.is-danger}

## インデクサまたはトラッカーのテスト

インデクサまたはトラッカーをテストする場合、デバッグまたはトレースログで使用されるURLを見つけることができます。以下は成功したテストの例です。特定のURLと特定のパラメータを使用して、インデクサにクエリを送信し、その応答を確認できます。このURLをブラウザでテストし、`apikey=(removed)`を正しいapikey（例：`apikey=123`）で置き換えて試してみることができます。動作しますか？期待される結果が表示されますか？このFAQエントリが適用されますか？このURLでは、`cat=5030,5040,5045,5080`という具体的なカテゴリが設定されていることがわかります。したがって、期待される結果が表示されない場合、これが1つの可能性です。また、`tvdbid=354629`という具体的なシーズンとエピソードで検索していることもわかります。したがって、インデクサで正しくカテゴリが設定されていない場合、修正する必要があります。さらに、`season=1`および`ep=1`で特定のシーズンとエピソードで検索していることもわかります。したがって、インデクサでそれが正しくない場合、それらの結果は表示されません。動作するクエリの出力の例については、Manual Search XML Outputを参照してください。

- Manual Search XML Output

```xml
INDEXER SEARCH RESPONSE EXAMPLE NEEDED
```

***画像が必要***

![searches-indexers-and-trackers1.png](/assets/readarr/searches-indexers-and-trackers1.png)
![searches-indexers-and-trackers2.png](/assets/readarr/searches-indexers-and-trackers2.png)

- Trace Log Snippet

```none
Snippet of Trace Log for a Manual Search Needed
```

- Full Trace Log of a Search

```none
Full section of Trace Log for a Manual Search Needed
```

## よくある問題

以下は、よくある問題のいくつかです。

### メディアが監視されていない

本が監視されていません。

### カテゴリが間違っています

カテゴリが間違っていることが、インデクサ/トラッカーのマニュアル検索結果に表示されるが、に表示されない結果の最も一般的な原因です。インデクサ/トラッカーは、検索結果にカテゴリを表示するはずであり、これが何が欠けているかを特定するのに役立ちます。JackettやProwlarrを使用している場合、各トラッカーには特定にサポートされているカテゴリのリストがあります。カテゴリの編集を行う際に、ブラウザウィンドウでリストを表示しておくと便利です。

### 間違った結果

インデクサは、完全に関連のない結果を返すことがあります。Readarrは検索を制限するためのパラメータを提供しますが、返される結果は完全に関連のないものです。または、一部の誤った結果が含まれることもあります。前者は通常、インデクサの問題であり、トレースログから原因を特定できます。そのインデクサを無効にして問題を報告できます。後者は通常、カテゴリが正しくないリリースであり、インデクサ/トラッカーで報告する必要があります。

### クエリは成功しましたが、結果が返されませんでした

「クエリは成功しましたが、インデクサから結果が返されませんでした。これはインデクサまたはインデクサのカテゴリ設定に問題がある可能性があります。」というメッセージが表示される場合

これは、インデクサが構成したカテゴリに含まれる結果をインデクサが返さなかったためです。

### 結果が見つかりません

Readarrに表示されないが、サイトで見つけることができる結果がある場合、次のいくつかの可能性が考えられます。

- [カテゴリが間違っています - 上記を参照](#wrong-categories)
- IDベースの検索が行われ、インデクサがリリースを正しくそのIDにマッピングしていない場合。これはインデクサだけが解決できる問題です。彼らはリリースが正しい適用可能なIDにマッピングされるようにする必要があります。
- Readarrが検索している方法とは異なる方法で検索している場合。おそらく、インデクサで検索している用語がReadarrがクエリを行っている方法ではない可能性が高いです。Trace LogsからReadarrがどのようにクエリを行っているかを確認できます。テキストベースのクエリは、通常、`q=words%20and%20things%20here`という形式であり、この文字列はHTTPエンコードされており、オンラインのHTMLエンコード/デコードツールで簡単にデコードできます。

### 証明書の検証

ほとんどのインデクサ/トラッカーはhttps経由で接続されるため、システム上で正常に機能する必要があります。つまり、タイムゾーンと時刻の両方が*正しく*設定されている必要があります。また、システムの証明書も最新である必要があります。

### レート制限に達する

VPNやプロキシを使用して実行している場合、他の多くの人々と競合している可能性があります。これらの人々は、、theXEM、および/またはインデクサとトラッカーなどのサービスを使用しようとしています。レート制限とDDOS保護は、IPアドレスによって行われることが多く、VPN/プロキシの出口ポイントは*1つの*IPアドレスです。中国、オーストラリア、南アフリカなどの抑圧的な国以外では、VPN/プロキシは必要ありません。

RarbgはAPI内で何らかのレート制限を持つ傾向があり、結果が表示されないと応答されます。

### IPブロック

レート制限と同様に、特定のインデクサ（Nyaaなど）はIPアドレスを完全にブロックする場合があります。これは通常、半永久的なものであり、解決策はISPまたはVPNプロバイダから新しいIPを取得することです。

### Jackettの/allエンドポイントの使用

Jackettの`/all`エンドポイントは便利ですが、それが唯一の利点です。それ以外は潜在的な問題がありますので、個々のトラッカーを個別に追加する必要があります。または、Jackettの/allエンドポイントを使用せずに、JackettとNZBHydra2の代替手段である[Prowlarr](/prowlarr)を試してみることもできます。

[Jackett自体も、/allは避けるべきであり、使用してはならないと言っています。](https://github.com/Jackett/Jackett#aggregate-indexers)

/allエンドポイントの使用には利点がありません（管理のオーバーヘッドが減少すること以外）、欠点のみがあります。

- インデクサ固有の設定（カテゴリ、検索モードなど）を制御できなくなります。
- 検索モード（IMDB、クエリなど）を混在させると、品質の低い結果が表示される可能性があります。
- インデクサ固有のカテゴリ（\>= 100000）は使用できません。
- 遅いインデクサは全体の結果を遅くします。
- 合計結果は1000に制限されます。

各インデクサを個別に追加すると、カテゴリをインデクサごとに細かく調整できるため、/allエンドポイントの場合には問題が発生する可能性があります。では、ページネーションがサポートされている場合は各インデクサが1000の結果に制限され、サポートされていない場合は100に制限されるため、Jackettにトラッカーを追加するにつれて、結果が切り捨てられる可能性がますます高くなります。最後に、/allの中の1つのトラッカーがエラーを返すと、はそれを無効にし、結果が表示されなくなります。

### 単一のエントリとしてのNZBHydra2の使用

NZBHydra2を単一のインデクサエントリ（つまり、NZBHydra2の中に多数のインデクサがある）として使用する場合、Jackettの`/all`エンドポイントと同じ問題が発生します。

### リストされていない問題

一般的なアクセス許可とネットワーキングのトラブルシューティングコマンドについては、[ガイド](/permissions-and-networking)を参照してください。それ以外の場合は、ディスコードのサポートチームと相談してください。これが一般的な問題である可能性がある場合は、ウィキに追加することを提案してください。

## エラー

インデクサを追加する際に表示される一部の一般的なエラーは次のとおりです。

### 下層の接続が閉じられました：送信時に予期しないエラーが発生しました

これは、インデクサが現在の.NETバージョンでサポートされていないSSLプロトコルを使用しているためです。[Readarr => System => Status](/readarr/system#status)で見つかります。

### リクエストがタイムアウトしました

Readarrはインデクサから応答を受け取っていません。

```none
    System.NET.WebException: The request timed out: ’https://example.org/api?t=caps&apikey=(removed) —> System.NET.WebException: The request timed out
```

```none
2022-11-01 10:16:54.3|Warn|Newznab|Unable to connect to indexer

[v4.3.0.6671] System.Threading.Tasks.TaskCanceledException: A task was canceled.
```

これは次の原因でも発生する可能性があります。

- VPNの不適切な設定または使用
- プロキシの不適切な設定または使用
- ローカルDNSの問題
- ローカルIPv6の問題 - 通常、IPv6は有効になっていますが、機能していません
- Privoxyの使用と不適切な設定

### リストされていない問題

一般的なアクセス許可とネットワーキングのトラブルシューティングコマンドについては、[ガイド](/permissions-and-networking)を参照してください。それ以外の場合は、ディスコードのサポートチームと相談してください。これが一般的な問題である可能性がある場合は、ウィキに追加することを提案してください。