---
title: Lidarr 设置
description: 
published: true
date: 2022-07-24T14:21:19.994Z
tags: lidarr, 需要关注, 设置
editor: markdown
dateCreated: 2021-06-14T21:36:07.513Z
---

# 目录

- [目录](#目录)
- [设置](#设置)
- [下载客户端](#下载客户端)
  - [概述](#概述)
  - [下载客户端进程](#下载客户端进程)
  - [Usenet](#usenet)
  - [BitTorrent](#bittorrent)
  - [下载客户端](#下载客户端-1)
    - [支持的下载客户端](#支持的下载客户端)
    - [Usenet 客户端设置](#usenet-客户端设置)
    - [Torrent 客户端设置](#torrent-客户端设置)
    - [Torrent 客户端删除下载兼容性](#torrent-客户端删除下载兼容性)
  - [完成的下载处理](#完成的下载处理)
    - [删除已完成的下载](#删除已完成的下载)
    - [下载失败处理](#下载失败处理)
  - [远程路径映射](#远程路径映射)
- [导入列表](#导入列表)
  - [导入列表](#导入列表-1)
  - [导入列表排除项](#导入列表排除项)
  - [添加导入列表](#添加导入列表)
- [连接](#连接)
- [标签](#标签)
- [常规](#常规)
  - [更新](#更新)

# 设置

这个页面还在建设中，欢迎并鼓励大家根据其他 \*Arr 页面进行贡献。

# 下载客户端

> 有关支持的下载客户端的信息，请参阅此部分的[更多信息（支持）](/lidarr/supported#download-clients)页面。
{.is-info}

## 概述

- 大多数人在下载和导入过程中会遇到问题。从高层次的角度来看，软件需要能够与您的下载客户端进行通信，并访问其下载的文件。有许多支持的下载客户端和更多不同的设置。这意味着虽然有一些常见的设置，但没有一个正确的设置，每个人的设置可能都有所不同。但是也有很多错误的设置。

## 下载客户端进程

## Usenet

- Lidarr会向您的客户端发送下载请求，并将其与您在下载客户端设置中配置的标签或类别名称关联起来。
  - 例如：电影、电视、系列、音乐等。
- Lidarr会通过您的下载客户端的API监视使用该类别名称的活动下载。
- 当下载完成时，Lidarr将根据您的下载客户端报告的最终文件位置来知道它的位置。该文件位置几乎可以是任何地方，只要它与您的媒体文件夹分开，并且Lidarr可以访问。
- Lidarr会扫描该完成的文件位置以查找Lidarr可以使用的文件。它会解析文件名以与请求的媒体进行匹配。如果可以匹配，它将根据您的规格重命名文件，并将其移动到指定的媒体位置。
- 默认情况下启用原子移动（即瞬时移动）。您的完成下载目录和媒体库的文件系统和挂载点必须相同。如果原子移动失败或者您的设置不支持硬链接和原子移动，那么Lidarr将退回并复制文件，然后从源中删除文件，这将产生IO负载。
- 如果在Lidarr的设置中启用了“完成的下载处理 - 删除”选项，则下载的剩余文件将通过向您的客户端发送删除/移除发布的请求发送到垃圾箱或回收站。

## BitTorrent

- Lidarr会向您的客户端发送下载请求，并将其与您在下载客户端设置中配置的标签或类别名称关联起来。
  - 例如：电影、电视、系列、音乐等。
- Lidarr会通过您的下载客户端的API监视使用该类别名称的活动下载。
- 完成的文件会保留在其原始位置，以便您可以进行做种（可以在下载客户端或Lidarr中的特定下载客户端中调整分享率或时间）。当文件导入到您的媒体文件夹时，如果您的设置支持硬链接，Lidarr将使用硬链接，否则将复制文件。
- 默认情况下启用硬链接。[硬链接不会使用额外的磁盘空间。](https://trash-guides.info/Hardlinks/Hardlinks-and-Instant-Moves/)您的完成下载目录和媒体库的文件系统和挂载点必须相同。如果创建硬链接失败或者您的设置不支持硬链接，Lidarr将退回并复制文件。
- 如果在Lidarr的设置中启用了“完成的下载处理 - 删除”选项，则Lidarr将从您的客户端中删除种子并要求客户端删除种子数据，但仅当客户端报告种子完成做种并停止（完成后暂停）时。

## 下载客户端

点击 `设置 => 下载客户端`，然后点击 <kb>+</kb> 添加新的下载客户端。您的下载客户端应该已经配置并运行。

### 支持的下载客户端

- 支持的下载客户端列表位于此部分的[更多信息（支持）](/lidarr/supported#downloadclient)页面上。

选择要添加的下载客户端，然后会弹出一个框来输入连接详细信息。这些详细信息对于大多数客户端来说是相似的。有些会要求用户名或密码，有些会询问是否在暂停/开始状态下添加新的下载等。

### Usenet 客户端设置

- 名称 - Lidarr 中的下载客户端名称
- 启用 - 启用此下载客户端
- 主机 - 您的下载客户端的 URL
- 端口 - 您的下载客户端的端口
- 使用 SSL - 使用与您的下载客户端的安全连接。请注意这个常见的错误。
- （高级选项）URL 基础 - 为 URL 添加前缀；这通常在反向代理中需要。
- API 密钥 - 用于身份验证到您的客户端的 API 密钥
- 用户名 - 用于身份验证到您的客户端的用户名（通常不需要）
- 密码 - 用于身份验证到您的客户端的密码（通常不需要）
- 类别 - 您的下载客户端中 \*Arr 将使用的类别。为了避免在活动中显示不相关的下载，强烈建议设置一个类别。
- 最近优先级 - 最近发布的媒体的下载客户端优先级
- 较旧优先级 - 最近未发布的媒体的下载客户端优先级
- （高级选项）客户端优先级 - 下载客户端的优先级。对于具有相同优先级的相同类型的客户端（种子/Usenet），使用循环调度。1 是最高优先级，50 是最低优先级

### Torrent 客户端设置

- 名称 - Lidarr 中的下载客户端名称
- 启用 - 启用此下载客户端
- 主机 - 您的下载客户端的 URL
- 端口 - 您的下载客户端的端口；通常是 WebGUI 端口
- 使用 SSL - 使用与您的下载客户端的安全连接。请注意这个常见的错误。
- （高级选项）URL 基础 - 为 URL 添加前缀；这通常在反向代理中需要。
- 用户名 - 用于身份验证到您的客户端的用户名
- 密码 - 用于身份验证到您的客户端的密码
- 类别 - 您的下载客户端中 \*Arr 将使用的类别。为了避免在活动中显示不相关的下载，强烈建议设置一个类别。
- 导入后类别 - 下载和导入完成后设置的类别。请注意，这会破坏完成的下载处理删除功能。
- 最近优先级 - 最近发布的媒体的下载客户端优先级
- 较旧优先级 - 最近未发布的媒体的下载客户端优先级
- 初始状态 - 种子的初始状态（仅适用于 Qbittorrent：强制绕过所有种子阈值）
- （高级选项）- 下载客户端的优先级。对于具有相同优先级的相同类型的客户端（种子/Usenet），使用循环调度。1 是最高优先级，50 是最低优先级

### Torrent 客户端删除下载兼容性

- Lidarr 只能在支持通过其 API 设置种子的做种比率/时间的客户端上设置种子的做种比率/时间。种子的做种目标可以在客户端本身全局设置，或在每个索引器的 \*Arr 设置中设置。请参阅下表以了解客户端的兼容性。

|      客户端       |                                比率                                 |                                   时间                                   |
| :---------------: | :------------------------------------------------------------------: | :----------------------------------------------------------------------: |
|       Aria2       |   ![支持](https://img.shields.io/badge/支持-是-success)   |   ![不支持](https://img.shields.io/badge/支持-否-critical)   |
|      Deluge       |   ![支持](https://img.shields.io/badge/支持-是-success)   |   ![不支持](https://img.shields.io/badge/支持-否-critical)   |
| Download Station  | ![不支持](https://img.shields.io/badge/支持-否-critical) |   ![不支持](https://img.shields.io/badge/支持-否-critical)   |
|       Flood       |   ![支持](https://img.shields.io/badge/支持-是-success)   |     ![支持](https://img.shields.io/badge/支持-是-success)     |
|     Hadouken      | ![不支持](https://img.shields.io/badge/支持-否-critical) |   ![不支持](https://img.shields.io/badge/支持-否-critical)   |
|    qBittorrent    |   ![支持](https://img.shields.io/badge/支持-是-success)   |     ![支持](https://img.shields.io/badge/支持-是-success)     |
|     rTorrent      |   ![支持](https://img.shields.io/badge/支持-是-success)   |     ![支持](https://img.shields.io/badge/支持-是-success)     |
| Torrent Blackhole | ![不支持](https://img.shields.io/badge/支持-否-critical) |   ![不支持](https://img.shields.io/badge/支持-否-critical)   |
|   Transmission    |   ![支持](https://img.shields.io/badge/支持-是-success)   | ![空闲限制](https://img.shields.io/badge/支持-空闲限制*-blue) |
|     uTorrent      |   ![支持](https://img.shields.io/badge/支持-是-success)   |     ![支持](https://img.shields.io/badge/支持-是-success)     |
|       Vuze        |   ![支持](https://img.shields.io/badge/支持-是-success)   |     ![支持](https://img.shields.io/badge/支持-是-success)     |

> ![空闲限制](https://img.shields.io/badge/支持-空闲限制*-blue) - Transmission 在内部具有空闲时间检查，但是如果空闲限制在每个种子的基础上设置，Lidarr会将其与做种时间进行比较。这是对 Transmission API 限制的一种解决方法。{.is-info}

## 完成的下载处理

- 完成的下载处理是 Lidarr 将媒体从下载客户端导入到系列文件夹的方式。

- 启用（高级全局设置）- 自动从下载客户端导入已完成的下载
- 删除（每个客户端设置）- 在完成时（Usenet）或停止/完成时（Torrent）删除已完成的下载
  - 对于 Torrent，这需要您的下载客户端在达到做种目标时暂停。它还要求做种目标得到 Lidarr 的支持，并且种子必须保持在相同的类别中。

### 删除已完成的下载

- Lidarr会向您的客户端发送下载请求，并将其与您在下载客户端设置中配置的标签或类别名称关联起来。
- Lidarr会通过您的下载客户端的API监视使用该类别名称的活动下载。
- 当下载完成时，Lidarr将根据您的下载客户端报告的最终文件位置来知道它的位置。该文件位置几乎可以是任何地方，只要它与您的媒体文件夹分开。
- Lidarr会扫描该完成的文件位置以查找视频文件。它会解析视频文件名以将其与一个剧集的剧集进行匹配。如果可以匹配，它将根据您的规格重命名文件，并将其移动到指定的媒体文件夹。
- 下载的剩余文件将被发送到您的垃圾箱或回收站。

如果您使用 BitTorrent 客户端下载，流程略有不同：

- 完成的文件会保留在其原始位置，以便您可以进行做种。当文件导入到您指定的媒体文件夹时，Lidarr将尝试使用硬链接链接文件，如果不支持硬链接，则会复制文件（使用双倍的空间）。
- 如果在设置中启用了“完成的下载处理 - 删除”选项，Lidarr将要求种子客户端删除原始文件和种子，但仅当客户端报告种子完成做种，种子处于相同的类别中（即不使用导入后类别），种子已暂停（停止）时才会执行此操作。

### 下载失败处理

- 失败的下载处理仅与 SABnzbd 和 NZBGet 兼容。
- 失败的下载处理不适用于 Torrent，也没有计划添加此功能。

- 失败的下载处理过程由几个组件组成：

- 检查下载器：
  - 队列 - 检查下载器的队列，查找标记为失败的受密码保护（加密）的发布
  - 历史记录 - 检查下载器的历史记录，查找失败的下载（例如，没有足够的块进行修复，或者解压失败）
- 当 Lidarr 发现失败的下载时，它会开始处理这些下载，并执行以下操作：
  - 向 Lidarr 的历史记录中添加一个失败事件
  - 从下载客户端中删除失败的下载，以释放空间并清除已下载的文件（可选）
  - 开始搜索替代文件（可选）
  - 块列表（以前称为“黑名单”）允许在下载失败时自动跳过 NZB，这意味着该 NZB 将不会被 Lidarr 自动下载（您仍然可以通过手动搜索强制下载）。
  - 有两个高级选项（在“下载客户端”设置页面上）可以控制 Lidarr 中的下载失败处理行为，目前它们都是默认启用的。

- 重新下载 - 控制 Lidarr 在失败后是否搜索相同的文件
- （高级选项）删除 - 检测到失败时是否自动从下载客户端中删除下载

## 远程路径映射

- 远程路径映射作为一个简单的查找远程路径并替换为本地路径的操作。这主要用于使用 mergerfs 或类似工具进行合并的本地/远程设置，或者用于应用程序和下载客户端不在同一台服务器上的情况。
- 当您的下载客户端报告已完成的数据的路径时，如果该路径是在另一台服务器上，或者以 \*Arr 不支持的方式报告该文件夹，就需要使用远程路径映射。
- 通常，只有在您的下载客户端在 Linux 上，而 \*Arr 在 Windows 上，或者反之，才需要远程路径映射。如果混合使用 Docker 和本机客户端，或者使用远程服务器，也可能需要远程路径映射。
- 远程路径映射是一个简单的搜索/替换操作（它会查找 REMOTE 值，并将其替换为 LOCAL 值，针对指定的主机）。
- 如果关于错误路径的错误消息不包含 REPLACED 值，则路径映射不会按您的预期工作。解决方法通常是添加和删除映射。
- [有关远程路径映射的更多信息，请参阅 TRaSH 的教程](https://trash-guides.info/Radarr/Radarr-remote-path-mapping/)



> 如果\*Arr和您的下载客户端都是Docker容器，很少需要远程路径映射。建议您[查看Docker指南](/docker-guide)和/或[按照TRaSH的教程](https://trash-guides.info/hardlinks)
{.is-info}

# 导入列表

> 有关支持的列表类型的信息，请参阅此部分的[更多信息（支持）](/lidarr/supported#lists)页面
{.is-info}

导入列表允许您从Spotify或Last.fm向Lidarr添加项目。这可能会向您的Lidarr数据库中添加许多意外的项目，请谨慎使用。

<!-- ![importlists.png](/assets/readarr/importlists.png) -->

## 导入列表

这显示了您当前拥有的列表，并允许您添加新列表。如何添加列表将在下面更详细地介绍。

## 导入列表排除

任何在此处的项目都已被排除在列表之外，并且永远不会从任何列表中添加。您可以通过点击它来将项目从中删除。

## 添加导入列表

单击<kb>+</kb>后，选择要添加的列表类型：

<!-- ![addlist.png](/assets/readarr/addlist.png) -->

在这个例子中，我们将添加一个Spotify保存的专辑列表。

<!-- ![bookshelflist.png](/assets/readarr/bookshelflist.png) -->

- 名称 - 为此列表输入一个名称。
- 启用自动添加 - 如果启用，列表中的任何内容都将自动添加到Lidarr中。

> 这将向Lidarr添加该艺术家的所有专辑！

- 监视 - 选择添加的内容的监视级别。有效选项为`无`、`特定专辑`和`所有艺术家专辑`。所有专辑都会被添加到Lidarr中，但根据此选择进行监视或不监视。
- 根文件夹 - 选择从此列表中添加的艺术家的根文件夹
- 监视新专辑 - 选择Lidarr应该如何处理添加的艺术家的未来专辑。有效选项为`所有专辑`、`无`、`新专辑`。
- 质量配置文件 - 选择从此列表中添加的艺术家的质量配置文件
- 元数据配置文件 - 选择从此列表中添加的艺术家的元数据配置文件
- Lidarr标签 - 选择适用于从此列表中添加的艺术家的标签

> 强烈建议在此处添加一个描述性标签。否则，您将不知道哪个列表将这些项目添加到Lidarr中，一旦它们被添加，您将永远无法再次获取此信息！此信息不会被记录！

列表默认每24小时同步一次，但可以从`系统`=>`任务`页面手动触发同步。您无法以比这更快的速度自动化此过程。

# 连接

> 有关支持的连接类型的信息，请参阅此部分的[更多信息（支持）](/lidarr/supported#notifications)页面
{.is-info}

# 标签

- Lidarr中的标签部分用于链接Lidarr的不同方面。
- 标签特别适用于以下情况：

  - 延迟配置文件
  - 发布配置文件
  - 索引器

- 标签可用于链接延迟配置文件、发布配置文件、索引器和艺术家/专辑。
- 例如：
  - 您希望特定的艺术家/专辑仅使用特定的索引器。您可以创建一个标签，并将艺术家/专辑和索引器分配给该标签。
  - 您希望特定的发布配置文件仅使用特定的延迟配置文件。您可以创建一个标签，并将发布配置文件和延迟配置文件分配给该标签。

> 注意：标签不会影响任何“质量配置文件”、“元数据配置文件”或其他未在上述内容中提到的方面。
{.is-info}

# 常规

## 更新

- （高级选项）分支 - 这是您正在运行的Lidarr的分支。
  - [请参阅此FAQ条目以获取更多信息](/lidarr/faq#how-do-i-update-lidarr)
- 自动 - 自动下载并安装更新。您仍然可以从系统：更新进行安装。注意：Windows用户始终会自动更新。
- 机制 - 使用Lidarr内置的更新程序或脚本
  - 内置 - 使用Lidarr自己的更新程序
  - 脚本 - 让Lidarr运行更新脚本
  - Docker - 不要从Docker内部更新Lidarr，而是使用新的更新拉取全新的映像
- 脚本 - 仅在机制设置为脚本时可见 - 更新脚本的路径
- 更新过程 - Lidarr将下载更新文件，验证其完整性，并将其提取到临时位置，然后调用所选择的方法。更新过程将在与Lidarr运行的相同用户下运行，它需要权限来更新Lidarr文件以及停止/启动Lidarr。
- 内置 - 内置方法将备份Lidarr文件和设置，停止Lidarr，更新安装并启动Lidarr，如果您的系统无法处理停止Lidarr并尝试自动重新启动它，最好使用脚本。如果失败，将重新启动Lidarr的上一个版本。
- 脚本 - 脚本应该处理与内置更新程序相同的内容，如果您需要处理停止和启动服务（upstart/launchd等），则需要在此处处理。