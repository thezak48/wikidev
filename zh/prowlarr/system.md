# 状态

## 健康状况

此页面包含健康检查错误的列表。这些健康检查定期由 Prowlarr 执行，并在某些事件上执行。列出了结果的警告和错误，以提供解决方法的建议。

### 系统警告

#### 分支不是有效的发布分支

- 您设置的分支不是有效的发布分支。您将无法接收更新。请更改为[当前的发布分支](/prowlarr/faq#how-do-i-update-prowlarr)之一。

#### 当前安装的 SQLite 版本不受支持

- Prowlarr 将其数据存储在 SQLite 数据库中。您系统上安装的 SQLite3 库版本太旧。Prowlarr 至少需要 3.9.0 版本。请注意，Prowlarr 使用的是 `libSQLite3.so`，它可能包含在 SQLite3 升级包中，也可能不包含在其中。

#### 有新的更新可用

- 恭喜，开发人员发布了新的更新。这通常意味着全新的功能和修复了一堆错误（对吧？）。显然，您没有启用自动更新，因此您需要弄清楚如何在您的平台上进行更新。在“系统”=>“更新”页面上按下“安装”按钮可能是一个好的起点。

> 如果您当前的版本小于 14 天，将不会显示此警告。
{.is-info}

#### 无法安装更新，因为启动文件夹不可写

- 这意味着 Prowlarr 将无法更新自身。您将需要手动更新 Prowlarr，或者设置 Prowlarr 的启动目录（安装目录）的权限，以允许 Prowlarr 更新自身。

#### 无法更新以防止在更新时删除 AppData

- Prowlarr 检测到您的操作系统的 AppData 文件夹位于包含 Prowlarr 二进制文件的目录中。通常情况下，对于 Windows，它应该是 C:\ProgramData，对于 Linux，它应该是 ~/.config。

- 请查看“系统”=>“信息”以查看当前的 AppData 和启动目录。
- 这意味着 Prowlarr 将无法更新自身，而不会有数据丢失的风险。
- 如果您使用的是 Linux，您可能需要更改运行 Prowlarr 的用户的主目录，并将当前内容复制到 ~/.config/Prowlarr 目录中，以保留您的数据库。

#### 分支是以前版本的

- 在“设置/常规”中设置的更新分支是 Prowlarr 的以前版本的分支，因此该实例将无法在“系统/更新”中看到正确的更新信息，并且可能无法在发布时接收新的更新。

#### 无法连接到 signalR

- signalR 用于动态 UI 更新，因此如果您的浏览器无法连接到服务器上的 signalR，则不会在 UI 中看到任何实时更新。

- 最常见的情况是使用反向代理或 Cloudflare
  - Cloudflare 需要启用 WebSockets。
  - Nginx 需要在应用程序的位置块中添加以下内容：

```nginx
 proxy_http_version 1.1;
 proxy_set_header Upgrade $http_upgrade;
 proxy_set_header Connection $http_connection;
```

> 请确保不要包含 `proxy_set_header Connection "Upgrade";`，如 nginx 文档中所建议。这是行不通的。
> 请参阅 <https://github.com/aspnet/AspNetCore/issues/17081>
{.is-warning}

- 对于 Apache2 反向代理，您需要启用以下模块：proxy、proxy_http 和 proxy_wstunnel。然后，在您的虚拟主机配置中添加此 WebSocket 隧道指令：

```none
RewriteEngine On
RewriteCond %{HTTP:Upgrade} =websocket [NC]
RewriteRule /(.*) ws://127.0.0.1:9696/$1 [P,L]
```

如果您的反向代理位于子目录下，则 RewriteRule 应包括您的基本路径，例如：

```none
RewriteRule /prowlarr/(.*) ws://127.0.0.1:9696/prowlarr/$1 [P,L]
```

如果 Prowlarr 不在与您的反向代理相同的计算机上运行，请将 127.0.0.1 替换为 Prowlarr 应用程序的适当 IP 地址/DNS 名称。

- 对于 Caddy（V1），请使用以下内容：

> 注意：您还需要将 WebSocket 指令添加到您的 prowlarr 配置中{.is-info}

```none
 proxy /prowlarr 127.0.0.1:9696 {
     websocket
     transparent
 }
```

#### 无法解析配置的代理主机的 IP 地址

- 检查代理设置，并确保它们准确无误。
- 确保代理正在运行并且可访问。

#### 代理测试失败

- 配置的代理无法成功测试，请查看提供的 HTTP 错误或检查日志以获取更多详细信息。

#### 系统时间偏差超过 1 天

- 系统时间偏差超过 1 天。在时间校正之前，计划任务可能无法正确运行。
- 检查您的系统时间，并确保它与权威时间服务器同步并准确。

### 下载客户端

#### 没有可用的下载客户端

- Prowlarr 需要正确配置和启用的下载客户端才能下载媒体。由于 Prowlarr 支持不同的下载客户端，您应确定哪个最符合您的要求。如果您已经安装了下载客户端，您应该配置 Prowlarr 使用它并创建一个分类。请参阅“设置”=>“下载客户端”。

#### 无法与下载客户端通信

- Prowlarr 无法与配置的下载客户端通信。请验证下载客户端是否正常运行，并仔细检查 URL。这也可能表示身份验证错误。
- 这通常是由于下载客户端配置不正确引起的。您通常可以检查以下内容：
- 如果您的下载客户端与裸机上的同一台机器上，您的下载客户端的 IP 地址通常为 127.0.0.1
- 您的下载客户端使用的端口号，这些端口号填写了默认端口号，但如果您已更改端口号，则需要在 Prowlarr 中输入相同的端口号。
- 如果您在本地网络上同时使用 Prowlarr 实例和下载客户端，请确保未启用 SSL 加密。有关详细信息，请参阅 SSL 常见问题解答。
- 使用 rutorrent 需要特殊的设置更改，因为它需要使用 https。

#### 由于故障，下载客户端不可用

- 您的一个或多个下载客户端未响应 Prowlarr 的请求。因此，Prowlarr 决定暂时停止在正常的 1 分钟周期内查询下载客户端，该周期通常用于跟踪活动下载并导入已完成的下载。但是，Prowlarr 将继续尝试将下载发送到客户端，但很可能会失败。
- 您应检查“系统”=>“日志”以查看失败的原因。
- 如果您不再使用此下载客户端，请在 Prowlarr 中禁用它以防止出现错误。

#### 错误的下载客户端设置

- 您的下载客户端下载文件的位置导致问题。请检查日志以获取更多信息。这可能是权限问题，或者是在 Windows 和 Linux 之间进行文件传输而没有远程路径映射。

### 索引器

#### 索引器没有定义

- 您的索引器没有（一个）现有的定义（文件），这通常是由于您的索引器不再受支持和删除，或者 Cardigann YML 定义不再可访问。

#### 索引器已过时

- 您的索引器的定义已过时。这有两个原因，如下所示

##### 由于代码更改而过时

- 由于代码更改，所述索引器已过时，如当前配置。删除并重新添加索引器以解决此问题。
- 这通常是由于从 YML 转换为 C# 或反之而引起的。

##### 由于站点删除而过时

- 某些站点可能要求从 Prowlarr 或 Jackett 中删除。然后，它们可能被标记为过时。
  - [TVVault](https://github.com/Prowlarr/Prowlarr/issues/573) 在 [Prowlarr #700](https://github.com/Prowlarr/Prowlarr/pull/700) 中
  - Audiobookbay 要求 Prowlarr 不要访问其 API
  - Ebookbay 要求 Prowlarr 不要访问其 API
  - Rarbg 已于 2023-05-31 [关闭](https://torrentfreak.com/iconic-torrent-site-rarbg-shuts-down-all-content-releases-stop-230531/)

#### 没有启用索引器

- Prowlarr 需要索引器才能发现新的发布。请阅读 Wiki 中的说明以了解如何添加索引器。

#### 由于故障，索引器不可用

- Prowlarr 尝试使用您的一个或多个索引器时发生错误。为了限制重试次数，Prowlarr 将不会在一段逐渐增加的时间内使用索引器（最多 24 小时）。
- 检查事件并过滤警告，以快速了解历史上发生的问题
- 如果 Prowlarr 无法从索引器获取响应（可能是由于 DNS、代理/VPN 连接、身份验证或索引器问题引起的），或者无法从索引器获取 nzb/torrent 文件，则会触发此机制。请检查日志以确定导致问题的错误类型。
- 您可以通过禁用受影响的索引器来防止警告。
- 运行索引器上的测试以强制 Prowlarr 重新检查索引器，请注意，健康检查警告不会立即消失。

#### 索引器 VIP 即将到期

- 您的 VIP 订阅或索引器的特权将在接下来的 7 天或更短时间内到期，这取决于您在 Prowlarr 中配置的到期日期。

#### 索引器 VIP 已过期

- 根据您在 Prowlarr 中配置的到期日期，您的 VIP 订阅或索引器的特权已过期。

### 应用程序

#### 由于故障，应用程序不可用

- Prowlarr 尝试使用您的一个或多个应用程序时发生错误。为了限制重试次数，Prowlarr 将不会在一段逐渐增加的时间内使用应用程序（最多 24 小时）。
- 如果 Prowlarr 无法从应用程序获取响应（可能是由于 DNS、连接、身份验证或应用程序问题引起的），则会触发此机制。请检查日志以确定导致问题的错误类型。
- 检查事件并过滤警告，以快速了解历史上发生的问题
- Prowlarr 将无法与应用程序同步，并且很可能应用程序将无法使用 Prowlarr 的索引器。
- 您可以通过禁用受影响的应用程序来防止警告。
- 运行应用程序上的测试以强制 Prowlarr 重新检查应用程序，请注意，健康检查警告不会立即消失。

## 磁盘空间

此部分将显示可用的磁盘空间。在 Docker 中，这可能会有些棘手，因为它通常会显示您的 Docker 映像中的可用空间。

## 关于

这将告诉您有关您当前安装的 Prowlarr 的信息。

## 更多信息

主页：Prowlarr 的主页
Wiki：您已经在这里了
Reddit：r/prowlarr
Discord：加入我们的 Discord
捐赠：如果您慷慨并且想要捐赠，请点击此处
捐赠给 Sonarr：如果您慷慨并且想要捐赠给这个项目的发起者，请点击此处
源代码：GitHub
功能请求：有一个很棒的想法，请在这里提出

# 任务

## 定时任务

此页面列出了 Prowlarr 运行的所有定时任务。

- 应用程序检查更新 - 这将按照 UI 中显示的计划运行，检查 Prowlarr 是否处于最新版本，然后触发更新脚本以更新 Prowlarr。设置=> 更新

> 注意：如果在 Docker 上，这不会更新您的容器，因为需要下载新的映像。
{.is-warning}

- 备份 - 这将按照设置的计划运行 Prowlarr 的数据库备份，有关此更多详细信息，请参阅此处。有关备份的更多信息，请参阅“系统”=>“备份”。
- 检查健康状况 - 检查健康状况将按照 UI 中显示的计划运行，检查 Prowlarr 的整体健康状况。要查看可能的与健康相关的问题列表，请参阅有关健康检查的 Wiki 条目。
- 扫除 - 在 UI 中显示的计划上，它会清除所有的蜘蛛网，扫地和吸尘，拖地，擦亮，甚至为您做好整齐的折叠笔记。但不会倒垃圾。它只是没有得到足够的报酬。
- 清理消息 - 在 UI 中显示的计划上，它会清理出现在 Prowlarr 左下角的消息

> 所有这些任务都可以在其计划时间之外通过点击每个任务右侧的图标手动运行。
{.is-info}

## 队列

队列将显示即将执行的任务以及最近执行的任务的历史记录，以及这些任务所花费的时间。

# 备份

> 此部分将更加针对页面上的按钮和整体重点。
> 但是，如果您想要了解如何备份/恢复您的 Prowlarr 实例，请参阅我们的常见问题解答（FAQ）。
{.is-info}

在备份部分，您将看到以前的备份（除非您是新安装，没有进行任何备份）。

在屏幕顶部，您将有两个选项：

- 立即备份 - 此选项将触发对 Prowlarr 数据库的手动备份。
- 恢复备份 - 这将打开一个新屏幕，以从以前的备份中恢复。
选择“选择文件”将提示您的浏览器打开一个对话框，以从 Prowlarr Zip 备份中恢复。

最后，如果您有任何以前的备份，并且希望从 Prowlarr 下载它们并放置在非标准位置，您只需选择其中一个文件以下载它们。
在每个以前下载的右侧，您有两个选项。

- 一 - 从以前的备份中恢复 - 这将打开一个新窗口，确认您要从此备份中恢复。
- 二 - 删除以前的备份

# 更新

更新屏幕将显示过去的 5 个更新以及您当前所在的版本。
此页面还将显示开发人员的更新说明，告诉您已经修复或添加了哪些 Prowlarr 功能（值得庆幸！）。

> 维护版本包含错误修复和其他各种改进。请查看提交历史以了解具体内容。
{.is-info}

# 事件

事件选项卡将显示您的 Prowlarr 中发生的情况。这可用于诊断一些轻微问题。但是，这不能替代在日志记录中讨论的跟踪日志。事件相当于 INFO 日志。

- 组件 - 此列将告诉您在 Prowlarr 中触发了哪个组件。
- 消息 - 此列将告诉您从前一列的组件发送了什么消息。
- 齿轮图标 - 此选项将允许您更改每页显示的组件/消息数量（默认为 50）。
- 页面顶部的选项
  - 刷新 - 此选项将刷新当前页面，获取新的事件日志。
  - 清除 - 这将清除当前的事件日志，使您可以从头开始。

# 日志文件

此页面将允许您下载和查看 Prowlarr 的当前日志文件。

在顶部一行中，有几个选项可让您控制日志文件。

- 最左侧的顶部一行有一个下拉菜单，可让您从日志文件和更新程序日志文件之间切换。
  - 日志文件 - 任何支持问题的重要内容都可以在此处找到更多有关日志文件的信息。
  - 更新程序日志文件 - 这将显示与 Prowlarr 的更新程序脚本相关的日志文件。

> 如果您使用的是 Docker，则此处将为空，因为您应该通过下载新的 Docker 镜像来进行更新。
{.is-info}

- 刷新 - 这将刷新当前页面并显示任何新创建的日志。
- 删除 - 这将清除所有日志，使您可以从头开始。
- 文件名 - 这将显示与日志相关联的文件名。
- 最后写入 - 这是该特定日志文件的本地时间。
  - Prowlarr 使用每个限制为 1MB 的滚动日志文件。当前日志文件始终为 prowlarr.txt，对于其他文件，prowlarr.0.txt 是下一个最新的文件（数字越大，表示越旧），总共有 51 个日志文件。此日志文件包含“fatal”、“error”、“warn”和“info”条目。
  - 当启用调试日志级别时，还会存在额外的 prowlarr.debug.txt 滚动日志文件，最多有 51 个文件。此日志文件包含“fatal”、“error”、“warn”、“info”和“debug”条目。它通常涵盖了大约 40 小时的时间。
  - 当启用跟踪日志级别时，还会存在额外的 prowlarr.trace.txt 滚动日志文件，最多有 51 个文件。此日志文件包含“fatal”、“error”、“warn”、“info”、“debug”和“trace”条目。由于跟踪的详细程度，它只能覆盖最多几个小时。